<app-header-bar
      [appTitle]="'CalculAções'"
      [menuItems]="menuItems"
      [activeMenuId]="activeMenuId"
      [userName]="'João Silva'"
      [showUserMenu]="true"
      (menuItemClicked)="onMenuItemClicked($event)"
      (userMenuClicked)="onUserMenuClicked()"
      (logoClicked)="onLogoClicked()">
</app-header-bar>

<div class="container py-4">
    <div class="row">
        <div class="col text-center mb-2">
            <h1>Calcule suas ações</h1>
            <p>Processe seu portfólio de ações para o Imposto de Renda</p>
        </div>
    </div>
    <app-file-upload-card
        *ngIf="showUploadComponent"
        [uploadedFile]="currentFileMetadata"
        [acceptedFormats]="'.pdf,.doc,.docx,.xlsx,.csv'"
        [maxSizeInMB]="5"
        [disabled]="isUploading"
        (fileSelected)="onFileSelected($event)"
        (fileRemoved)="onFileRemoved()"
        (fileProcessed)="onProcessFile()">
    </app-file-upload-card>

    <!-- Show positions card when no asset is selected -->
    <app-portfolio-positions-card
        *ngIf="showPositionsCard"
        [portfolioSummary]="summary"
        [currency]="'BRL'"
        [loading]="isLoadingPositions"
        (assetClicked)="onAssetClicked($event)"
        (closeClicked)="onCloseClicked()">
    </app-portfolio-positions-card>

    <!-- Show operations card when an asset is selected -->
    <app-portfolio-operations-card
        *ngIf="showOperationsCard"
        [asset]="selectedAsset"
        [currency]="'BRL'"
        [loading]="isLoadingOperations"
        (operationClicked)="onOperationClicked($event)"
        (backClicked)="onBackClicked()">
    </app-portfolio-operations-card>
</div> 